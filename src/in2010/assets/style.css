/* Catppuccin Latte (light) and Mocha (dark) responsive theme for Org-mode exports
   - Light: Catppuccin Latte
   - Dark:  Catppuccin Mocha
   - Automatically switches with prefers-color-scheme
*/

/* Base palette variables default to Latte (light) */
:root {
  /* Latte */
  --ctp-rosewater: #dc8a78;
  --ctp-flamingo:  #dd7878;
  --ctp-pink:      #ea76cb;
  --ctp-mauve:     #8839ef;
  --ctp-red:       #d20f39;
  --ctp-maroon:    #e64553;
  --ctp-peach:     #fe640b;
  --ctp-yellow:    #df8e1d;
  --ctp-green:     #40a02b;
  --ctp-teal:      #179299;
  --ctp-sky:       #04a5e5;
  --ctp-sapphire:  #209fb5;
  --ctp-blue:      #1e66f5;
  --ctp-lavender:  #7287fd;
  --ctp-text:      #4c4f69;
  --ctp-subtext1:  #5c5f77;
  --ctp-subtext0:  #6c6f85;
  --ctp-overlay2:  #7c7f93;
  --ctp-overlay1:  #8c8fa1;
  --ctp-overlay0:  #9ca0b0;
  --ctp-surface2:  #acb0be;
  --ctp-surface1:  #bcc0cc;
  --ctp-surface0:  #ccd0da;
  --ctp-base:      #eff1f5;
  --ctp-mantle:    #e6e9ef;
  --ctp-crust:     #dce0e8;

  /* Semantic aliases for easier styling */
  --bg: var(--ctp-base);
  --bg-alt: var(--ctp-mantle);
  --bg-elev: var(--ctp-crust);
  --text: var(--ctp-text);
  --text-subtle: var(--ctp-subtext0);
  --border: var(--ctp-surface1);
  --muted: var(--ctp-overlay0);
  --primary: var(--ctp-blue);
  --primary-contrast: var(--ctp-base);
  --link: var(--ctp-blue);
  --link-hover: var(--ctp-sapphire);
  --success: var(--ctp-green);
  --warning: var(--ctp-yellow);
  --danger: var(--ctp-red);
  --accent: var(--ctp-mauve);

  /* Code block palette (htmlize-friendly) */
  --code-bg: var(--ctp-surface0);
  --code-border: var(--ctp-surface1);
  --code-text: var(--ctp-text);

  /* Focus ring */
  --focus: var(--ctp-sky);
}

/* Override with Mocha when user prefers dark mode */
@media (prefers-color-scheme: dark) {
  :root {
    /* Mocha */
    --ctp-rosewater: #f5e0dc;
    --ctp-flamingo:  #f2cdcd;
    --ctp-pink:      #f5c2e7;
    --ctp-mauve:     #cba6f7;
    --ctp-red:       #f38ba8;
    --ctp-maroon:    #eba0ac;
    --ctp-peach:     #fab387;
    --ctp-yellow:    #f9e2af;
    --ctp-green:     #a6e3a1;
    --ctp-teal:      #94e2d5;
    --ctp-sky:       #89dceb;
    --ctp-sapphire:  #74c7ec;
    --ctp-blue:      #89b4fa;
    --ctp-lavender:  #b4befe;
    --ctp-text:      #cdd6f4;
    --ctp-subtext1:  #bac2de;
    --ctp-subtext0:  #a6adc8;
    --ctp-overlay2:  #9399b2;
    --ctp-overlay1:  #7f849c;
    --ctp-overlay0:  #6c7086;
    --ctp-surface2:  #585b70;
    --ctp-surface1:  #45475a;
    --ctp-surface0:  #313244;
    --ctp-base:      #1e1e2e;
    --ctp-mantle:    #181825;
    --ctp-crust:     #11111b;

    --bg: var(--ctp-base);
    --bg-alt: var(--ctp-mantle);
    --bg-elev: var(--ctp-crust);
    --text: var(--ctp-text);
    --text-subtle: var(--ctp-subtext0);
    --border: var(--ctp-surface1);
    --muted: var(--ctp-overlay0);
    --primary: var(--ctp-lavender);
    --primary-contrast: var(--ctp-crust);
    --link: var(--ctp-blue);
    --link-hover: var(--ctp-sapphire);
    --success: var(--ctp-green);
    --warning: var(--ctp-yellow);
    --danger: var(--ctp-red);
    --accent: var(--ctp-mauve);

    --code-bg: var(--ctp-surface0);
    --code-border: var(--ctp-surface2);
    --code-text: var(--ctp-text);

    --focus: var(--ctp-sky);
  }
}

/* Global solid background (Latte/Mocha via --bg) */
html {
  box-sizing: border-box;
  scroll-behavior: smooth;
  background: var(--bg); /* ensure the root has the same solid bg */
}
*, *::before, *::after { box-sizing: inherit; }

body {
  margin: 0;
  padding: 0 1rem;
  color: var(--text);
  /* Replace the gradient with a single color */
  background: var(--bg);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  line-height: 1.6;
  max-width: 76ch;
  margin-left: auto;
  margin-right: auto;
}


/* Org export title/subtitle */
.title {
  font-size: 2rem;
  font-weight: 700;
  margin: 2rem 0 0.5rem 0;
  color: var(--text);
}
.subtitle {
  font-size: 1rem;
  color: var(--text-subtle);
  margin: 0 0 2rem 0;
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
  color: var(--text);
  margin: 1.25rem 0 0.75rem 0;
  line-height: 1.25;
}
h1 { font-size: 1.75rem; border-bottom: 1px solid var(--border); padding-bottom: 0.5rem; }
h2 { font-size: 1.5rem; }
h3 { font-size: 1.25rem; color: var(--text); }
h4 { font-size: 1.1rem; color: var(--text-subtle); }
h5 { font-size: 1rem; color: var(--muted); }
h6 { font-size: 0.95rem; color: var(--muted); }

.section-number {
  color: var(--accent);
  margin-right: 0.35rem;
}

/* Links */
a {
  color: var(--link);
  text-decoration: none;
}
a:hover, a:focus {
  color: var(--link-hover);
  text-decoration: underline;
}
a:focus-visible {
  outline: 2px solid var(--focus);
  outline-offset: 2px;
}

/* Lists */
ul, ol {
  padding-left: 1.25rem;
}
li { margin: 0.25rem 0; }

/* Blockquotes */
blockquote {
  margin: 1rem 0;
  padding: 0.75rem 1rem;
  border-left: 4px solid var(--accent);
  background: var(--bg-elev);
  color: var(--text);
}

/* Horizontal rule */
hr {
  border: none;
  border-top: 1px solid var(--border);
  margin: 2rem 0;
}

/* Images */
img {
  max-width: 100%;
  height: auto;
  border-radius: 6px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
}

/* Tables */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0;
  background: var(--bg-elev);
  border: 1px solid var(--border);
}
th, td {
  padding: 0.5rem 0.75rem;
  border: 1px solid var(--border);
}
th {
  background: var(--bg-alt);
  color: var(--text);
  text-align: left;
}
tbody tr:nth-child(even) {
  background: var(--bg);
}

/* Inline code */
code {
  font-family: ui-monospace, "SFMono-Regular", Menlo, Consolas, "Liberation Mono", Monaco, "Courier New", monospace;
  background: var(--code-bg);
  color: var(--code-text);
  padding: 0.1rem 0.3rem;
  border: 1px solid var(--code-border);
  border-radius: 4px;
}

/* Code blocks & Org src containers */
pre, .src, .example, .verbatim, .org-src-container pre {
  font-family: ui-monospace, "SFMono-Regular", Menlo, Consolas, "Liberation Mono", Monaco, "Courier New", monospace;
  background: var(--code-bg);
  color: var(--code-text);
  padding: 0.75rem 1rem;
  border: 1px solid var(--code-border);
  border-radius: 8px;
  overflow: auto;
  margin: 1rem 0;
}

/* htmlize-generated span classes (generic hues) */
.hl-line { background: transparent; }
.hl-number      { color: var(--ctp-peach); }
.hl-keyword     { color: var(--ctp-mauve); font-weight: 600; }
.hl-builtin     { color: var(--ctp-sapphire); }
.hl-string      { color: var(--ctp-green); }
.hl-function    { color: var(--ctp-blue); }
.hl-variable    { color: var(--ctp-flamingo); }
.hl-type        { color: var(--ctp-yellow); }
.hl-constant    { color: var(--ctp-maroon); }
.hl-comment     { color: var(--muted); font-style: italic; }
.hl-warning     { color: var(--warning); }
.hl-error       { color: var(--danger); }
.hl-operator    { color: var(--ctp-sky); }
.hl-preprocessor{ color: var(--ctp-teal); }

/* Org-specific utility classes */
.org-center { text-align: center; }
.org-right  { text-align: right; }
.org-left   { text-align: left; }

.todo {
  color: var(--danger);
  font-weight: 700;
}
.done {
  color: var(--success);
  font-weight: 700;
}
.priority { color: var(--accent); }

.tag, .timestamp {
  display: inline-block;
  padding: 0.1rem 0.4rem;
  margin: 0 0.2rem;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--text-subtle);
  font-size: 0.85em;
}

/* TOC */
#table-of-contents, .toc {
  border: 1px solid var(--border);
  background: var(--bg-elev);
  border-radius: 8px;
  padding: 0.75rem 1rem;
  margin: 1rem 0 2rem 0;
}
#table-of-contents h2, .toc h2 {
  margin-top: 0;
  font-size: 1.1rem;
  color: var(--text);
}

/* Footnotes */
.footnotes {
  border-top: 1px solid var(--border);
  margin-top: 2rem;
  padding-top: 1rem;
  color: var(--text-subtle);
}
.footnote-reference, .footnote-definition {
  font-size: 0.95em;
}

/* Figures & captions */
.figure {
  margin: 1rem 0;
  text-align: center;
}
.figure p, .figure .caption, figcaption {
  color: var(--text-subtle);
  font-size: 0.95em;
}

/* Search highlights (if any) */
mark {
    background: var(--ctp-rosewater);
}

/* Minimal page footer */
.page-footer {
  margin-top: 2rem;
  padding-top: 0.75rem;
  border-top: 1px solid var(--border);
  color: var(--text-subtle);
  font-size: 0.95rem;
  text-align: right;
}
    

/* Minimal notes overview â€” bigger, centered links */
.notes-container {
  margin: 2rem auto;
  max-width: 76ch;
  padding: 0 0.5rem;
  text-align: center; /* center the list items */
}

.note-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.note-list li {
  margin: 0.6rem 0; /* a bit more breathing room */
}

.note-list a {
  display: inline-block;               /* shrink to content and allow padding */
  font-size: clamp(1.15rem, 2.5vw, 1.6rem); /* responsive size */
  font-weight: 600;
  color: var(--text);
  text-decoration: none;
  padding: 0.25rem 0.6rem;
  border-radius: 8px;
  border-bottom: 2px solid transparent; /* subtle underline on hover */
  transition: transform 0.06s ease, box-shadow 0.12s ease, color 0.2s ease, border-color 0.2s ease, background-color 0.2s ease;
}

.note-list a:hover,
.note-list a:focus {
  color: var(--link);
  border-bottom-color: var(--accent);
  background: var(--bg-elev);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.10);
}

.note-list a:focus-visible {
  outline: 2px solid var(--focus);
  outline-offset: 3px;
}


